var Kr=Object.defineProperty;var Jr=(z,N,H)=>N in z?Kr(z,N,{enumerable:!0,configurable:!0,writable:!0,value:H}):z[N]=H;var w=(z,N,H)=>(Jr(z,typeof N!="symbol"?N+"":N,H),H);(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();const z="modulepreload",N=function(t,e){return new URL(t,e).href},H={},Ce=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){const n=document.getElementsByTagName("link");i=Promise.all(e.map(a=>{if(a=N(a,r),a in H)return;H[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(r)for(let c=n.length-1;c>=0;c--){const f=n[c];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const h=document.createElement("link");if(h.rel=s?"stylesheet":z,s||(h.as="script",h.crossOrigin=""),h.href=a,document.head.appendChild(h),s)return new Promise((c,f)=>{h.addEventListener("load",c),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(n=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=n,window.dispatchEvent(a),!a.defaultPrevented)throw n})};var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kt={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(Oe,function(){var r=function(){function i(p){return s.appendChild(p.dom),p}function n(p){for(var m=0;m<s.children.length;m++)s.children[m].style.display=m===p?"block":"none";a=p}var a=0,s=document.createElement("div");s.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",s.addEventListener("click",function(p){p.preventDefault(),n(++a%s.children.length)},!1);var l=(performance||Date).now(),h=l,c=0,f=i(new r.Panel("FPS","#0ff","#002")),d=i(new r.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=i(new r.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:s,addPanel:i,showPanel:n,begin:function(){l=(performance||Date).now()},end:function(){c++;var p=(performance||Date).now();if(d.update(p-l,200),p>h+1e3&&(f.update(1e3*c/(p-h),100),h=p,c=0,u)){var m=performance.memory;u.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576)}return p},update:function(){l=this.end()},domElement:s,setMode:n}};return r.Panel=function(i,n,a){var s=1/0,l=0,h=Math.round,c=h(window.devicePixelRatio||1),f=80*c,d=48*c,u=3*c,p=2*c,m=3*c,x=15*c,E=74*c,y=30*c,M=document.createElement("canvas");M.width=f,M.height=d,M.style.cssText="width:80px;height:48px";var v=M.getContext("2d");return v.font="bold "+9*c+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=a,v.fillRect(0,0,f,d),v.fillStyle=n,v.fillText(i,u,p),v.fillRect(m,x,E,y),v.fillStyle=a,v.globalAlpha=.9,v.fillRect(m,x,E,y),{dom:M,update:function(g,A){s=Math.min(s,g),l=Math.max(l,g),v.fillStyle=a,v.globalAlpha=1,v.fillRect(0,0,f,x),v.fillStyle=n,v.fillText(h(g)+" "+i+" ("+h(s)+"-"+h(l)+")",u,p),v.drawImage(M,m+c,x,E-c,y,m,x,E-c,y),v.fillRect(m+E-c,x,c,y),v.fillStyle=a,v.globalAlpha=.9,v.fillRect(m+E-c,x,c,h((1-g/A)*y))}}},r})})(Kt);var We=Kt.exports;const ke=Ye(We);var Pt=1e-6,ft=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function G(){var t=new ft(16);return ft!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Jt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Qt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ve(t,e){if(t===e){var r=e[1],i=e[2],n=e[3],a=e[6],s=e[7],l=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=a,t[11]=e[14],t[12]=n,t[13]=s,t[14]=l}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Zt(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],l=e[5],h=e[6],c=e[7],f=e[8],d=e[9],u=e[10],p=e[11],m=e[12],x=e[13],E=e[14],y=e[15],M=r*l-i*s,v=r*h-n*s,g=r*c-a*s,A=i*h-n*l,_=i*c-a*l,I=n*c-a*h,rt=f*x-d*m,it=f*E-u*m,j=f*y-p*m,nt=d*E-u*x,X=d*y-p*x,yt=u*y-p*E,F=M*yt-v*X+g*nt+A*j-_*it+I*rt;return F?(F=1/F,t[0]=(l*yt-h*X+c*nt)*F,t[1]=(n*X-i*yt-a*nt)*F,t[2]=(x*I-E*_+y*A)*F,t[3]=(u*_-d*I-p*A)*F,t[4]=(h*j-s*yt-c*it)*F,t[5]=(r*yt-n*j+a*it)*F,t[6]=(E*g-m*I-y*v)*F,t[7]=(f*I-u*g+p*v)*F,t[8]=(s*X-l*j+c*rt)*F,t[9]=(i*j-r*X-a*rt)*F,t[10]=(m*_-x*g+y*M)*F,t[11]=(d*g-f*_-p*M)*F,t[12]=(l*it-s*nt-h*rt)*F,t[13]=(r*nt-i*it+n*rt)*F,t[14]=(x*v-m*A-E*M)*F,t[15]=(f*A-d*v+u*M)*F,t):null}function He(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],l=e[4],h=e[5],c=e[6],f=e[7],d=e[8],u=e[9],p=e[10],m=e[11],x=e[12],E=e[13],y=e[14],M=e[15],v=r[0],g=r[1],A=r[2],_=r[3];return t[0]=v*i+g*l+A*d+_*x,t[1]=v*n+g*h+A*u+_*E,t[2]=v*a+g*c+A*p+_*y,t[3]=v*s+g*f+A*m+_*M,v=r[4],g=r[5],A=r[6],_=r[7],t[4]=v*i+g*l+A*d+_*x,t[5]=v*n+g*h+A*u+_*E,t[6]=v*a+g*c+A*p+_*y,t[7]=v*s+g*f+A*m+_*M,v=r[8],g=r[9],A=r[10],_=r[11],t[8]=v*i+g*l+A*d+_*x,t[9]=v*n+g*h+A*u+_*E,t[10]=v*a+g*c+A*p+_*y,t[11]=v*s+g*f+A*m+_*M,v=r[12],g=r[13],A=r[14],_=r[15],t[12]=v*i+g*l+A*d+_*x,t[13]=v*n+g*h+A*u+_*E,t[14]=v*a+g*c+A*p+_*y,t[15]=v*s+g*f+A*m+_*M,t}function $e(t,e,r){var i=r[0],n=r[1],a=r[2],s,l,h,c,f,d,u,p,m,x,E,y;return e===t?(t[12]=e[0]*i+e[4]*n+e[8]*a+e[12],t[13]=e[1]*i+e[5]*n+e[9]*a+e[13],t[14]=e[2]*i+e[6]*n+e[10]*a+e[14],t[15]=e[3]*i+e[7]*n+e[11]*a+e[15]):(s=e[0],l=e[1],h=e[2],c=e[3],f=e[4],d=e[5],u=e[6],p=e[7],m=e[8],x=e[9],E=e[10],y=e[11],t[0]=s,t[1]=l,t[2]=h,t[3]=c,t[4]=f,t[5]=d,t[6]=u,t[7]=p,t[8]=m,t[9]=x,t[10]=E,t[11]=y,t[12]=s*i+f*n+m*a+e[12],t[13]=l*i+d*n+x*a+e[13],t[14]=h*i+u*n+E*a+e[14],t[15]=c*i+p*n+y*a+e[15]),t}function je(t,e,r){var i=r[0],n=r[1],a=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Xe(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[4],s=e[5],l=e[6],h=e[7],c=e[8],f=e[9],d=e[10],u=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*n+c*i,t[5]=s*n+f*i,t[6]=l*n+d*i,t[7]=h*n+u*i,t[8]=c*n-a*i,t[9]=f*n-s*i,t[10]=d*n-l*i,t[11]=u*n-h*i,t}function ze(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[0],s=e[1],l=e[2],h=e[3],c=e[8],f=e[9],d=e[10],u=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n-c*i,t[1]=s*n-f*i,t[2]=l*n-d*i,t[3]=h*n-u*i,t[8]=a*i+c*n,t[9]=s*i+f*n,t[10]=l*i+d*n,t[11]=h*i+u*n,t}function Ge(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[0],s=e[1],l=e[2],h=e[3],c=e[4],f=e[5],d=e[6],u=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n+c*i,t[1]=s*n+f*i,t[2]=l*n+d*i,t[3]=h*n+u*i,t[4]=c*n-a*i,t[5]=f*n-s*i,t[6]=d*n-l*i,t[7]=u*n-h*i,t}function qe(t,e,r,i,n,a,s){var l=1/(e-r),h=1/(i-n),c=1/(a-s);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*l,t[13]=(n+i)*h,t[14]=(s+a)*c,t[15]=1,t}var Ke=qe;function Je(t,e,r,i){var n,a,s,l,h,c,f,d,u,p,m=e[0],x=e[1],E=e[2],y=i[0],M=i[1],v=i[2],g=r[0],A=r[1],_=r[2];return Math.abs(m-g)<Pt&&Math.abs(x-A)<Pt&&Math.abs(E-_)<Pt?Qt(t):(f=m-g,d=x-A,u=E-_,p=1/Math.hypot(f,d,u),f*=p,d*=p,u*=p,n=M*u-v*d,a=v*f-y*u,s=y*d-M*f,p=Math.hypot(n,a,s),p?(p=1/p,n*=p,a*=p,s*=p):(n=0,a=0,s=0),l=d*s-u*a,h=u*n-f*s,c=f*a-d*n,p=Math.hypot(l,h,c),p?(p=1/p,l*=p,h*=p,c*=p):(l=0,h=0,c=0),t[0]=n,t[1]=l,t[2]=f,t[3]=0,t[4]=a,t[5]=h,t[6]=d,t[7]=0,t[8]=s,t[9]=c,t[10]=u,t[11]=0,t[12]=-(n*m+a*x+s*E),t[13]=-(l*m+h*x+c*E),t[14]=-(f*m+d*x+u*E),t[15]=1,t)}var te=He;function Qe(){var t=new ft(3);return ft!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function ot(t,e,r){var i=new ft(3);return i[0]=t,i[1]=e,i[2]=r,i}function Lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}(function(){var t=Qe();return function(e,r,i,n,a,s){var l,h;for(r||(r=3),i||(i=0),n?h=Math.min(n*r+i,e.length):h=e.length,l=i;l<h;l+=r)t[0]=e[l],t[1]=e[l+1],t[2]=e[l+2],a(t,t,s),e[l]=t[0],e[l+1]=t[1],e[l+2]=t[2];return e}})();for(var q=256,ee=[],re=256,wt;q--;)ee[q]=(q+256).toString(16).substring(1);function Ze(t){var e=0,r=t||11;if(!wt||q+r>re*2)for(wt="",q=0;e<re;e++)wt+=ee[Math.random()*256|0];return wt.substring(q,q+++r)}var Rt={},tr=function(){function t(e,r,i,n){this.x=e,this.y=r,this.w=i,this.h=n}return t.prototype.fitsIn=function(e){return e.w>=this.w&&e.h>=this.h},t.prototype.sameSizeAs=function(e){return this.w===e.w&&this.h===e.h},t}();Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=tr;var Mt={},Dt=Rt;function ie(t){var e=t.width/2,r=document.createElement("canvas");r.id=t.id||"",r.width=t.width+t.width,r.height=t.height+t.height;var i=r.getContext("2d"),n=i.createPattern(t,"repeat");return i.fillStyle=n,i.translate(e,e),i.fillRect(-e,-e,r.width+e,r.height+e),i.translate(-e,-e),r}function ne(t,e,r,i){var n=e?t.rect.w/4:0;return[[t.rect.x+n,t.rect.y+n],[t.rect.x+n+(t.rect.w-n*2),t.rect.y+n],[t.rect.x+n+(t.rect.w-n*2),t.rect.y+n+(t.rect.h-n*2)],[t.rect.x+n,t.rect.y+n+(t.rect.h-n*2)]].map(function(a){return a[0]!==0&&(a[0]=a[0]/r),a[1]!==0&&(a[1]=a[1]/i),a})}function oe(t,e,r,i){var n=e?t.rect.w/4:0,a=new Float32Array(8);return a[0]=(t.rect.x+n)/r,a[1]=(t.rect.y+n)/i,a[2]=(t.rect.x+n+(t.rect.w-n*2))/r,a[3]=(t.rect.y+n)/i,a[4]=(t.rect.x+n+(t.rect.w-n*2))/r,a[5]=(t.rect.y+n+(t.rect.h-n*2))/i,a[6]=(t.rect.x+n)/r,a[7]=(t.rect.y+n+(t.rect.h-n*2))/i,a}var pt=function(){function t(e,r,i,n){this.left=this.right=null,this.rect=new Dt.default(e,r,i,n),this.filled=!1}return t.prototype.pack=function(e){return this.left!==null?this.left.pack(e)||this.right.pack(e):this.filled||!e.fitsIn(this.rect)?null:e.sameSizeAs(this.rect)?(this.filled=!0,this):(this.rect.w-e.w>this.rect.h-e.h?(this.left=new t(this.rect.x,this.rect.y,e.w,this.rect.h),this.right=new t(this.rect.x+e.w,this.rect.y,this.rect.w-e.w,this.rect.h)):(this.left=new t(this.rect.x,this.rect.y,this.rect.w,e.h),this.right=new t(this.rect.x,this.rect.y+e.h,this.rect.w,this.rect.h-e.h)),this.left.pack(e))},t}();Mt.AtlasNode=pt;var er=function(){function t(e,r){r===void 0&&(r={}),this.tilepad=r.tilepad||!1,this.canvas=e,this.context=e.getContext("2d"),this._rootNode=new pt(0,0,this.canvas.width,this.canvas.height),this._terminalNodes={},this.invalidateUvIndices()}return t.prototype.pack=function(e,r){return this._checkId(e),this._pack(e,this.tilepad?ie(r):r)},t.prototype.expand=function(e,r){return this._checkId(e),this.invalidateUvIndices(),this._expand(e,this.tilepad?ie(r):r)},t.prototype.index=function(){var e=this;return Object.keys(this._terminalNodes).map(function(r){return e._terminalNodes[r].rect})},t.prototype.uv=function(){return this._uvs?this._uvs:(this._uvs=this.buildUvIndex(),this._uvs)},t.prototype.uv2=function(){return this._uvs2?this._uvs2:(this._uvs2=this.buildUvIndex2(),this._uvs2)},t.prototype.invalidateUvIndices=function(){this._uvs=null,this._uvs2=null},t.prototype._checkId=function(e){if(this._terminalNodes[e])throw new Error("Duplicated texture id "+e)},t.prototype._pack=function(e,r){var i=new Dt.default(0,0,r.width,r.height),n=this._rootNode.pack(i);return n?(this._ontoCanvas(e,r,n.rect),this._terminalNodes[e]=n,this._uvs&&(this._uvs[e]=ne(n,this.tilepad,this.canvas.width,this.canvas.height)),this._uvs2&&(this._uvs2[e]=oe(n,this.tilepad,this.canvas.width,this.canvas.height)),n):null},t.prototype._expand=function(e,r){var i=new Dt.default(0,0,r.width,r.height),n=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),a;this._rootNode.rect.w<this._rootNode.rect.h?(this.canvas.width=this._rootNode.rect.w+i.w,a=new pt(this._rootNode.rect.w,0,i.w,this._rootNode.rect.h)):(this.canvas.height=this._rootNode.rect.h+i.h,a=new pt(0,this._rootNode.rect.h,this._rootNode.rect.w,i.h)),this.context.putImageData(n,0,0);var s=this._rootNode;return this._rootNode=new pt(0,0,this.canvas.width,this.canvas.height),this._rootNode.left=s,this._rootNode.right=a,this._pack(e,r)?this:this._expand(e,r)},t.prototype.buildUvIndex=function(){var e=this,r={};return Object.keys(this._terminalNodes).map(function(i){var n=e._terminalNodes[i];r[i]=ne(n,e.tilepad,e.canvas.width,e.canvas.height)}),r},t.prototype.buildUvIndex2=function(){var e=this,r={};return Object.keys(this._terminalNodes).map(function(i){var n=e._terminalNodes[i];r[i]=oe(n,e.tilepad,e.canvas.width,e.canvas.height)}),r},t.prototype._ontoCanvas=function(e,r,i){this.context.clearRect(i.x,i.y,i.w,i.h),this.context.drawImage(r,i.x,i.y,i.w,i.h)},t}();Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=er;var rr=Rt;rr.default;var ir=Mt,nr=ir.default,or=Object.defineProperty,ar=(t,e,r)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K=(t,e,r)=>(ar(t,typeof e!="symbol"?e+"":e,r),r),ae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},B=(t,e,r)=>(ae(t,e,"read from private field"),r?r.call(t):e.get(t)),bt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},sr=(t,e,r,i)=>(ae(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),Ct="-- DEFINES_HOOK --",hr=(t,e,r,i={})=>{if(Object.keys(i).length&&!r.includes(Ct))throw new Error(`in order to include defines, you must provide "${Ct}" in your shader code`);let n="";for(const[l,h]of Object.entries(i)){if(typeof h=="boolean"&&!h)continue;let c=`${h}`;typeof h=="number"&&Number.isInteger(h)&&(c+=".0"),n+=`#define ${l} ${c}
`}r=r.replace(Ct,n);const a=t.createShader(e);if(t.shaderSource(a,r),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS))return a;const s=`
    Error in ${e===t.VERTEX_SHADER?"Vertex":"Fragment"} shader:
    ${t.getShaderInfoLog(a)}
  `;throw t.deleteShader(a),new Error(s)},se=hr,lr=(t,e,r,i)=>{const n=se(t,t.VERTEX_SHADER,e,i),a=se(t,t.FRAGMENT_SHADER,r,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,a),t.linkProgram(s),t.detachShader(s,n),t.deleteShader(n),t.detachShader(s,a),t.deleteShader(a),t.getProgramParameter(s,t.LINK_STATUS))return s;const l=new Error(`Error linking program: ${t.getProgramInfoLog(s)}`);throw t.deleteProgram(s),l},Ot=lr,cr=(t,e,r,i)=>{let n;switch(e){case t.FLOAT:return t.uniform1f(r,i);case t.FLOAT_VEC2:return n=i,t.uniform2f(r,n[0],n[1]);case t.FLOAT_VEC3:return n=i,t.uniform3f(r,n[0],n[1],n[2]);case t.FLOAT_VEC4:return n=i,t.uniform4f(r,n[0],n[1],n[2],n[3]);case t.BOOL:case t.INT:case t.SAMPLER_2D:case t.SAMPLER_CUBE:return t.uniform1i(r,i);case t.BOOL_VEC2:case t.INT_VEC2:return n=i,t.uniform2i(r,n[0],n[1]);case t.BOOL_VEC3:case t.INT_VEC3:return n=i,t.uniform3i(r,n[0],n[1],n[2]);case t.BOOL_VEC4:case t.INT_VEC4:return n=i,t.uniform4i(r,n[0],n[1],n[2],n[3]);case t.FLOAT_MAT2:return t.uniformMatrix2fv(r,!1,i);case t.FLOAT_MAT3:return t.uniformMatrix3fv(r,!1,i);case t.FLOAT_MAT4:return t.uniformMatrix4fv(r,!1,i);default:throw new Error("wrong type for uniform")}},he=cr,dr=(t={})=>{const{width:e=1,height:r=1,widthSegments:i=1,heightSegments:n=1,flipUVy:a=!1}=t,s=i,l=n,h=(s+1)*(l+1),c=s*l*6,f=new Float32Array(h*3+h*2),d=h>65536?new Uint32Array(c):new Uint16Array(c);let u=0,p=0;const m=u,x=e/s,E=r/l,y=1,M=-1,v=0,g=5;for(let A=0;A<=l;A++){const _=A*E-r/2;for(let I=0;I<=s;I++,u++){const rt=I*x-e/2;if(f[u*g+0]=rt*y,f[u*g+1]=_*M,f[u*g+2]=v/2,f[u*g+3]=I/s,f[u*g+4]=a?1-A/l:A/l,A===l||I===s)continue;const it=m+I+A*(s+1),j=m+I+(A+1)*(s+1),nt=m+I+(A+1)*(s+1)+1,X=m+I+A*(s+1)+1;d[p*6]=it,d[p*6+1]=j,d[p*6+2]=X,d[p*6+3]=j,d[p*6+4]=nt,d[p*6+5]=X,p++}}return{width:e,height:r,vertexCount:d.length,vertexStride:g,interleavedArray:f,indicesArray:d}},ur=dr,fr=(t={})=>{const{width:e=1,height:r=1}=t,i=4,n=3,a=new Float32Array(i*n);return a[0]=-e*.5,a[1]=-r*.5,a[2]=0,a[3]=e*.5,a[4]=-r*.5,a[5]=0,a[6]=e*.5,a[7]=r*.5,a[8]=0,a[9]=-e*.5,a[10]=r*.5,a[11]=0,{width:e,height:r,vertexCount:i,vertexStride:n,interleavedArray:a}},pr=fr,vr=(t={})=>{const{radius:e=1,segments:r=32,thetaStart:i=0,thetaEnd:n=Math.PI*2}=t,a=[],s=[],l=[];s.push(0,0,0),l.push(0,0);for(let d=0,u=3;d<=r;d++,u+=3){const p=i+d/r*n,m=Math.cos(p)*e,x=Math.sin(p)*e;s.push(m,x,0);const E=(s[u]/e+1)/2,y=(s[u+1]/e+1)/2;l.push(E,y)}for(let d=1;d<=r;d++)a.push(d,d+1,0);const h=5,c=r>65536?new Uint32Array(a):new Uint16Array(a),f=new Float32Array((r+1)*3*h);for(let d=0;d<=r+1;d++)f[d*5+0]=s[d*3+0],f[d*5+1]=s[d*3+1],f[d*5+2]=s[d*3+2],f[d*5+3]=l[d*2+0],f[d*5+4]=l[d*2+1];return{radius:e,interleavedArray:f,vertexCount:r*3,vertexStride:h,indicesArray:c}},mr=vr,Ar=(t={})=>{const{radius:e=1,segments:r=32,thetaStart:i=0,thetaEnd:n=Math.PI*2}=t,a=3,s=new Float32Array(r*a),l=n/r;for(let h=0;h<r;h++){const c=Math.cos(i+h*l)*e,f=Math.sin(i+h*l)*e;s[h*3+0]=c,s[h*3+1]=f,s[h*3+2]=0}return{radius:e,vertexCount:r,vertexStride:a,interleavedArray:s}},gr=Ar,xr=(t,e,r,i,n,a)=>{const s=new Float32Array(9);return s[0]=t,s[1]=e,s[2]=0,s[3]=r,s[4]=i,s[5]=0,s[6]=n,s[7]=a,s[8]=0,{vertexCount:3,vertexStride:3,interleavedArray:s}},Er=xr,_r=class{constructor(){w(this,"upVector",ot(0,1,0));w(this,"position",ot(0,0,0));w(this,"lookAt",ot(0,0,0));w(this,"projectionMatrix",G());w(this,"viewMatrix",G());w(this,"viewMatrixInverse",G());w(this,"projectionViewMatrix",G())}updateViewMatrix(){return Je(this.viewMatrix,this.position,this.lookAt,this.upVector),Zt(this.viewMatrixInverse,this.viewMatrix),this}updateProjectionMatrix(){return this}updateProjectionViewMatrix(){return this.updateViewMatrix(),this.updateProjectionMatrix(),te(this.projectionViewMatrix,this.projectionMatrix,this.viewMatrix),this}},yr=class extends _r{constructor(e,r,i,n,a,s){super();w(this,"left");w(this,"right");w(this,"bottom");w(this,"top");w(this,"near");w(this,"far");this.left=e,this.right=r,this.top=i,this.bottom=n,this.near=a,this.far=s,this.updateProjectionMatrix()}updateProjectionMatrix(){return Ke(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),this}},wr=class{constructor(){w(this,"position",ot(0,0,0));w(this,"rotation",ot(0,0,0));w(this,"scale",ot(1,1,1));w(this,"modelMatrix",G());w(this,"shouldUpdate",!0)}copyFromMatrix(t){return Jt(this.modelMatrix,t),this.shouldUpdate=!1,this}setPosition(t){return Lt(this.position,t),this.shouldUpdate=!0,this}setScale(t){return Lt(this.scale,t),this.shouldUpdate=!0,this}setRotation(t){return Lt(this.rotation,t),this.shouldUpdate=!0,this}updateModelMatrix(){return Qt(this.modelMatrix),$e(this.modelMatrix,this.modelMatrix,this.position),Xe(this.modelMatrix,this.modelMatrix,this.rotation[0]),ze(this.modelMatrix,this.modelMatrix,this.rotation[1]),Ge(this.modelMatrix,this.modelMatrix,this.rotation[2]),je(this.modelMatrix,this.modelMatrix,this.scale),this.shouldUpdate=!1,this}},Rr=class extends wr{constructor(e=void 0){super();w(this,"parentNode",null);w(this,"_children",[]);w(this,"_visible",!0);w(this,"worldMatrix",G());w(this,"normalMatrix",G());w(this,"uid",Ze(9));w(this,"name");this.name=e}get visible(){return this._visible}set visible(e){this._visible=e}get children(){return this._children}get siblings(){return this.parentNode?this.parentNode._children:[]}get levelIndex(){let e=0,r=this.parentNode;for(;r;)e++,r=r.parentNode;return e}setParent(e=null){if(this.parentNode){const r=this.parentNode._children.indexOf(this);r>=0&&this.parentNode._children.splice(r,1)}return e&&e.addChild(this),this.parentNode=e,this}addChild(e){return this._children.push(e),this}updateWorldMatrix(e=null){this.shouldUpdate&&this.updateModelMatrix(),e?te(this.worldMatrix,e,this.modelMatrix):Jt(this.worldMatrix,this.modelMatrix),Zt(this.normalMatrix,this.worldMatrix),Ve(this.normalMatrix,this.normalMatrix);for(let r=0;r<this._children.length;r++)this._children[r].updateWorldMatrix(this.worldMatrix);return this}traverse(e,r=0){e(this,r),r++;for(let i=0;i<this._children.length;i++)this._children[i].traverse(e,r)}findChild(e){if(e(this))return this;let r=null;for(let i=0;i<this._children.length&&!(r=this._children[i].findChild(e));i++);return r}findChildByName(e){if(this.name===e)return this;let r=null;for(let i=0;i<this._children.length&&!(r=this._children[i].findChildByName(e));i++);return r}findParent(e){if(e(this))return this;let r=null,i=this.parentNode;for(;i&&!(r=i.findParent(e));)i=i==null?void 0:i.parentNode;return r}findParentByName(e){if(this.name===e)return this;let r=null,i=this.parentNode;for(;i&&!(r=i.findParentByName(e));)i=i==null?void 0:i.parentNode;return r}render(){if(this._visible)for(let e=0;e<this._children.length;e++)this._children[e].render()}},at,Ft=class extends Rr{constructor(t,e,r,i={},n){if(super(n),K(this,"gl"),K(this,"vao"),K(this,"vertexCount"),bt(this,at,new Map),K(this,"boundingBox"),K(this,"program"),this.gl=t,this.vao=t.createVertexArray(),this.program=Ot(t,e,r,i),this.program.__SPECTOR_Metadata={name:n,shaderDefines:i},!this.setUniform(Ft.WORLD_MATRIX_UNIFORM_NAME,{type:t.FLOAT_MAT4}))throw new Error(`Each Drawable is expected to have a mat4 ${Ft.WORLD_MATRIX_UNIFORM_NAME} implemented in shader`)}setUniform(t,{type:e,value:r}){const i=this.gl;let n;if(n=B(this,at).get(t))n.value=r;else{const a=i.getUniformLocation(this.program,t);if(!a)return console.error(`uniform with name ${t} was not found in the program`),!1;n={type:e,location:a,value:r},B(this,at).set(t,n)}return r!=null&&(i.useProgram(this.program),he(i,n.type,n.location,r)),!0}updateUniform(t,e){let r;if(r=this.getUniform(t)){r.value=e;const i=this.gl;return i.useProgram(this.program),he(i,r.type,r.location,e),!0}return!1}getUniform(t){let e;return(e=B(this,at).get(t))?e:(console.error("can't locate uniform with that name"),null)}updateWorldMatrix(t){return super.updateWorldMatrix(t),this.updateUniform(Ft.WORLD_MATRIX_UNIFORM_NAME,this.worldMatrix),this}destroy(){B(this,at).clear();const t=this.gl;t.deleteVertexArray(this.vao),t.deleteProgram(this.program)}},Mr=Ft;at=new WeakMap,K(Mr,"WORLD_MATRIX_UNIFORM_NAME","u_worldMatrix");var br=document.createElement("canvas"),le=br.getContext("webgl2"),$=le.MAX_TEXTURE_SIZE,Tt=le.RGB,Yt,R,Wt=!1,J,st,ht,kt=class{constructor(){if(bt(this,J,[]),bt(this,st,[]),bt(this,ht,document.createElement("div")),Wt){const t=document.createElement("style"),e="hwoa-rang-texture-atlas-debug";t.setAttribute("type","text/css");const r=`
        #${e} {
          position: fixed;
          bottom: 1rem;
          right: 1rem;
          transform-origin: 100% 100%;
          width: 400px;
          max-height: 100vh;
          overflow: scroll;
        }
        #${e} canvas {
          max-width: 100%;
        }
      `;t.appendChild(document.createTextNode(r)),document.getElementsByTagName("head")[0].appendChild(t),sr(this,ht,document.createElement("div")),B(this,ht).setAttribute("id",e),document.body.appendChild(B(this,ht))}}static set debugMode(t){Wt=t}static get textureSize(){return $}static set textureSize(t){$=t}static set textureFormat(t){Tt=t}static set gl(t){R=t}static getInstance(){if(!R)throw new Error("You must provide a WebGL2RenderingContext first via setting the TextureAtlas.gl property!");return Yt||(Yt=new kt),Yt}pack(t,e,r=1){const i=()=>{const u=document.createElement("canvas");B(this,ht).appendChild(u),u.width=$,u.height=$;const p=R.createTexture();R.bindTexture(R.TEXTURE_2D,p),R.texParameterf(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.LINEAR_MIPMAP_LINEAR),R.texImage2D(R.TEXTURE_2D,0,Tt,$,$,0,Tt,R.UNSIGNED_BYTE,null),R.generateMipmap(R.TEXTURE_2D),R.bindTexture(R.TEXTURE_2D,null);const m=new nr(u);return B(this,J).push(m),B(this,st).push(p),m};let n=B(this,J)[B(this,J).length-1];n||(n=i());const a=r===1?e:kt.scaleDownDrawableByFactor(e,r);n.pack(t,a)||(n=i(),n.pack(t,a));const s=n.uv()[t];for(let u=0;u<s.length;u++)s[u][0]*=$,s[u][1]*=$;const l=B(this,st)[B(this,st).length-1],h=s[0][0],c=s[0][1],f=s[2][0]-s[0][0],d=s[2][1]-s[0][1];return R.bindTexture(R.TEXTURE_2D,l),R.texSubImage2D(R.TEXTURE_2D,0,h,c,f,d,Tt,R.UNSIGNED_BYTE,a),R.generateMipmap(R.TEXTURE_2D),R.bindTexture(R.TEXTURE_2D,null),this}getUv2(t){let e=-1;for(let r=0;r<B(this,J).length;r++){const i=B(this,J)[r].uv2()[t];if(i){e=r;const n=B(this,st)[e];return[i,n]}}throw new Error("Can't get uvs")}},Fr=kt;J=new WeakMap,st=new WeakMap,ht=new WeakMap,K(Fr,"scaleDownDrawableByFactor",(t,e)=>{const r=document.createElement("canvas"),i=t instanceof HTMLImageElement?t.naturalWidth:t.width,n=t instanceof HTMLImageElement?t.naturalHeight:t.height;r.width=i/e,r.height=n/e,Wt&&console.log(`Scaled ${i}x${n} project image to ${r.width}x${r.height}`);const a=r.getContext("2d");return a.imageSmoothingQuality="high",a.drawImage(t,0,0,i,n,0,0,r.width,r.height),r});var ce=`#version 300 es

-- DEFINES_HOOK --

uniform mat4 uProjectionViewMatrix;

in vec4 aInstanceTransform;
in vec4 aPosition;
in vec4 aColor;
in vec2 aUV;

out vec2 vUV;
out vec4 vColor;

vec2 rotate(vec2 v, float a) {
	float s = sin(a);
	float c = cos(a);
	mat2 m = mat2(c, s, -s, c);
	return m * v;
}

void main () {
  vec4 pos = aPosition;

  #ifdef IS_LINES
    if (aPosition.x == 0.0f) {
      pos.xy = aInstanceTransform.xy;
    } else {
      pos.xy = aInstanceTransform.zw;
    }
  #else
    vec2 offset = aInstanceTransform.xy;
    float angle = aInstanceTransform.z;
    float scale = aInstanceTransform.w;

    pos.xy *= scale;
    pos.xy = rotate(pos.xy, angle);
    pos.xy += offset;
  #endif
  
  gl_Position = uProjectionViewMatrix * pos;

  vUV = aUV;
  vColor = aColor;
}`,de=`#version 300 es
precision highp float;

-- DEFINES_HOOK --

in vec2 vUV;
in vec4 vColor;

out vec4 finalColor;

void main () {
  #ifdef LINES
    finalColor = vec4(0.5843, 0.647, 0.6509, 1.0);
  #else
    finalColor = vColor;
  #endif
}`;const Tr=await Ce(()=>import("./Phy2D-g9t9LSla.js"),__vite__mapDeps([]),import.meta.url),{Vec2:vt,Body:Q,World:Br,vector$Vec2$:Ir}=await Tr.default(),ue=new vt(-1e3,-1e3),Vt=Math.min(innerWidth,1920),Bt=Math.min(innerHeight,800),Ur=300,Nr=innerWidth*innerHeight,Sr=5e5,lt=Nr<Sr,S=[.1,.1,.1],P=[.945,.7686,.0588],Ht=innerWidth-Vt,$t=innerHeight-Bt,ct=new vt(-1e3,-1e3),Pr=-5;let T=4,fe=0;const Z=document.getElementById("c");qr();const o=Z.getContext("webgl2"),It=new ke;It.showPanel(0),document.getElementById("stats-wrapper").appendChild(It.dom);const Ut=new yr(0,innerWidth,0,innerHeight,.1,10);Ut.position[2]=1,Ut.updateProjectionViewMatrix();const L=Ot(o,ce,de,{}),mt=Ot(o,ce,de,{LINES:!0}),tt=o.getAttribLocation(L,"aInstanceTransform"),At=o.getAttribLocation(L,"aPosition"),jt=o.getAttribLocation(L,"aUV"),et=o.getAttribLocation(L,"aColor");let Xt=o.getUniformLocation(L,"uProjectionViewMatrix");o.useProgram(L),o.uniformMatrix4fv(Xt,!1,Ut.projectionViewMatrix),Xt=o.getUniformLocation(mt,"uProjectionViewMatrix"),o.useProgram(mt),o.uniformMatrix4fv(Xt,!1,Ut.projectionViewMatrix);const zt=[],b=document.createElement("canvas");b.width=Vt,b.height=Bt,b.style.setProperty("position","fixed"),b.style.setProperty("top",`${$t*.5}px`),b.style.setProperty("left",`${Ht*.5}px`),b.style.setProperty("z-index","999"),b.classList.add("fadeable"),document.body.appendChild(b);const U=b.getContext("2d"),pe=1,ve="bold",me="Helvetica";U.font=`${ve} ${pe}px ${me}`;const Ae="2024",Lr=pe*(b.width*.77/U.measureText(Ae).width);U.font=`${ve} ${Lr}px ${me}`,U.textAlign="center",U.textBaseline="middle",U.fillStyle="white",U.save(),U.translate(b.width*.5,b.height*.5),U.scale(1,1),U.fillStyle="#111",U.fillText(Ae,0,0),U.restore();const Dr=new Uint32Array(U.getImageData(0,0,b.width,b.height).data.buffer),Cr=10,Or=10;for(let t=0;t<b.width;t+=Cr)for(let e=0;e<b.height;e+=Or)Dr[e*b.width+t]&&zt.push({x:t+Ht*.5,y:e+$t*.5});const D=[],C=[],O=[],Y=new Br(0,innerWidth,innerHeight),Yr=new Q(innerWidth,1,innerWidth*.5,innerHeight,0),Wr=new Q(1,innerHeight*2,0,innerHeight*.5,0),kr=new Q(1,innerHeight*2,innerWidth-1,innerHeight*.5,0);Y.AddBody(Yr),Y.AddBody(Wr),Y.AddBody(kr);const dt=new Q(60,-1e3,-100,0);dt.restitution=.3,Y.AddBody(dt);let ut=0;const Nt=Bt;for(;ut<Nt;){let t=0,e=0;const r=Math.cos(ut/Nt*Math.PI*2),i=lt?11:36,n=lt?25:51;let a=(r*i+n)*.5,s=a+Math.random()*a;for(;e<Vt;){const l=s*.5+e+Ht*.5;let h,c=Math.random()<.9?1:2;ut>Nt*.3&&ut<Nt*.7&&(c=Math.floor(Math.random()*2));let f=ut+$t*.5;if(c===1)h=new Q(s*1.015,l,f,1),h.scale=s,C.push(h);else if(c===0)h=new Q(s*2*1.015,s*2*1.015,l,f,2),h.scale=s*2,D.push(h);else if(c===2){const u=new Ir;u.push_back(new vt(-.5*s*2,.5*s*2)),u.push_back(new vt(0*s*2,-.5*s*2)),u.push_back(new vt(.5*s*2,.5*s*2)),h=new Q(u,l,f,10,0,0),h.scale=s*2,O.push(h)}const d=f>Bt*.5?1.2:1;h.scale*d>t&&(t=h.scale*d),h.restitution=.1,h.isInside=!1,Y.AddBody(h);for(let u=0;u<zt.length;u++){const{x:p,y:m}=zt[u],x=p-l,E=m-f;Math.sqrt(x*x+E*E)<10&&(h.isInside=!0)}e+=s*2}ut+=t}const W=new Float32Array(D.length*4),St=new Float32Array(D.length*3),k=new Float32Array(C.length*4),gt=new Float32Array(C.length*3),V=new Float32Array(O.length*4),xt=new Float32Array(O.length*3);for(let t=0;t<D.length;t++){const e=D[t];W[t*4+0]=e.position.x,W[t*4+1]=e.position.y,W[t*4+2]=0,W[t*4+3]=e.scale,St[t*3+0]=e.isInside?S[0]:P[0],St[t*3+1]=e.isInside?S[1]:P[1],St[t*3+2]=e.isInside?S[2]:P[2]}for(let t=0;t<C.length;t++){const e=C[t];k[t*4+0]=e.position.x,k[t*4+1]=e.position.y,k[t*4+2]=0,k[t*4+3]=e.scale,gt[t*3+0]=e.isInside?S[0]:P[0],gt[t*3+1]=e.isInside?S[1]:P[1],gt[t*3+2]=e.isInside?S[2]:P[2]}for(let t=0;t<O.length;t++){const e=O[t];V[t*4+0]=e.position.x,V[t*4+1]=e.position.y,V[t*4+2]=0,V[t*4+3]=e.scale,xt[t*3+0]=e.isInside?S[0]:P[0],xt[t*3+1]=e.isInside?S[1]:P[1],xt[t*3+2]=e.isInside?S[2]:P[2]}const Et=ur(),ge=pr(),xe=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,xe),o.bufferData(o.ARRAY_BUFFER,W,o.DYNAMIC_DRAW);const Ee=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Ee),o.bufferData(o.ARRAY_BUFFER,St,o.STATIC_DRAW);const _e=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,_e),o.bufferData(o.ARRAY_BUFFER,Et.interleavedArray,o.STATIC_DRAW);const ye=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,ye),o.bufferData(o.ARRAY_BUFFER,ge.interleavedArray,o.STATIC_DRAW);const we=o.createBuffer();o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,we),o.bufferData(o.ELEMENT_ARRAY_BUFFER,Et.indicesArray,o.STATIC_DRAW);const _t=mr(),Re=gr(),Me=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Me),o.bufferData(o.ARRAY_BUFFER,k,o.DYNAMIC_DRAW);const be=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,be),o.bufferData(o.ARRAY_BUFFER,gt,o.STATIC_DRAW);const Fe=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Fe),o.bufferData(o.ARRAY_BUFFER,_t.interleavedArray,o.STATIC_DRAW);const Te=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Te),o.bufferData(o.ARRAY_BUFFER,Re.interleavedArray,o.STATIC_DRAW);const Be=o.createBuffer();o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,Be),o.bufferData(o.ELEMENT_ARRAY_BUFFER,_t.indicesArray,o.STATIC_DRAW);const Gt=Er(-.5,.5,0,-.5,.5,.5),Ie=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Ie),o.bufferData(o.ARRAY_BUFFER,V,o.DYNAMIC_DRAW);const Ue=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Ue),o.bufferData(o.ARRAY_BUFFER,xt,o.STATIC_DRAW);const Ne=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,Ne),o.bufferData(o.ARRAY_BUFFER,Gt.interleavedArray,o.STATIC_DRAW);const qt=matchMedia("(orientation: portrait)"),Vr=qt.matches;qt.addEventListener("change",()=>{Vr&&!qt.matches&&location.reload()}),setTimeout(()=>{b.classList.add("faded"),requestAnimationFrame(Pe),b.addEventListener("transitionend",()=>{b.parentNode.removeChild(b)})},Ur),document.body.addEventListener("mousedown",Hr),document.body.addEventListener("mouseup",$r),document.body.addEventListener("touchmove",jr),document.body.addEventListener("touchend",Xr),document.body.addEventListener("keydown",zr);function Hr(){document.body.addEventListener("mousemove",Se)}function Se(t){const e=Le(t.pageX),r=De(t.pageY);ct.x=e,ct.y=r,dt.position=ct}function $r(){document.body.removeEventListener("mousemove",Se),dt.position=ue}function jr(t){const e=Le(t.pageX),r=De(t.pageY);ct.x=e,ct.y=r,dt.position=ct,t.preventDefault()}function Xr(){dt.position=ue}function zr(t){t.key==="1"?T=0:t.key==="2"?T=1:t.key==="3"?T=2:t.key==="4"?T=3:t.key==="5"&&(T=4)}function Pe(t){const e=Math.min((t-fe)*.001,.01667);fe=t,It.begin(),Y.gravity=Y.gravity+(Pr-Y.gravity)*(e*50),Y.Update(e);for(let r=0;r<C.length;r++){const i=C[r];k[r*4+0]=i.position.x,k[r*4+1]=i.position.y,k[r*4+2]=i.rotation}for(let r=0;r<D.length;r++){const i=D[r];W[r*4+0]=i.position.x,W[r*4+1]=i.position.y,W[r*4+2]=i.rotation}for(let r=0;r<O.length;r++){const i=O[r];V[r*4+0]=i.position.x,V[r*4+1]=i.position.y,V[r*4+2]=i.rotation}o.viewport(0,0,Z.width,Z.height),o.clearColor(.498,.549,.5529,1),o.clear(o.COLOR_BUFFER_BIT),o.enableVertexAttribArray(tt),o.enableVertexAttribArray(et),o.enableVertexAttribArray(At),o.enableVertexAttribArray(jt),Gr(),It.end(),requestAnimationFrame(Pe)}function Gr(){o.useProgram(L),o.bindBuffer(o.ARRAY_BUFFER,xe),o.bufferData(o.ARRAY_BUFFER,W,o.DYNAMIC_DRAW),o.vertexAttribPointer(tt,4,o.FLOAT,!1,0,0),o.vertexAttribDivisor(tt,1),o.bindBuffer(o.ARRAY_BUFFER,Ee),o.vertexAttribPointer(et,3,o.FLOAT,!1,0,0),o.vertexAttribDivisor(et,1),o.bindBuffer(o.ARRAY_BUFFER,_e),o.vertexAttribPointer(At,3,o.FLOAT,!1,Et.vertexStride*Float32Array.BYTES_PER_ELEMENT,0),o.vertexAttribPointer(jt,2,o.FLOAT,!1,Et.vertexStride*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,we),(T===0||T===4)&&o.drawElementsInstanced(o.TRIANGLES,Et.vertexCount,o.UNSIGNED_SHORT,0,D.length),o.useProgram(mt),o.bindBuffer(o.ARRAY_BUFFER,ye),o.vertexAttribPointer(At,3,o.FLOAT,!1,0,0),(T===3||T===4)&&o.drawArraysInstanced(o.LINE_LOOP,0,ge.vertexCount,D.length),o.useProgram(L),o.bindBuffer(o.ARRAY_BUFFER,Me),o.bufferData(o.ARRAY_BUFFER,k,o.DYNAMIC_DRAW),o.vertexAttribPointer(tt,4,o.FLOAT,!1,0,0),o.vertexAttribDivisor(tt,1),o.bindBuffer(o.ARRAY_BUFFER,be),o.bufferData(o.ARRAY_BUFFER,gt,o.STATIC_DRAW),o.vertexAttribPointer(et,3,o.FLOAT,!1,0,0),o.vertexAttribDivisor(et,1),o.bindBuffer(o.ARRAY_BUFFER,Fe),o.vertexAttribPointer(At,3,o.FLOAT,!1,_t.vertexStride*Float32Array.BYTES_PER_ELEMENT,0),o.vertexAttribPointer(jt,2,o.FLOAT,!1,_t.vertexStride*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,Be),(T===1||T===4)&&o.drawElementsInstanced(o.TRIANGLES,_t.vertexCount,o.UNSIGNED_SHORT,0,C.length),o.useProgram(mt),o.bindBuffer(o.ARRAY_BUFFER,Te),(T===3||T===4)&&o.drawArraysInstanced(o.LINE_LOOP,1,Re.vertexCount,C.length),o.useProgram(L),o.bindBuffer(o.ARRAY_BUFFER,Ie),o.bufferData(o.ARRAY_BUFFER,V,o.DYNAMIC_DRAW),o.vertexAttribPointer(tt,4,o.FLOAT,!1,0,0),o.vertexAttribDivisor(tt,1),o.bindBuffer(o.ARRAY_BUFFER,Ue),o.bufferData(o.ARRAY_BUFFER,xt,o.STATIC_DRAW),o.vertexAttribPointer(et,3,o.FLOAT,!1,0,0),o.vertexAttribDivisor(et,1),o.bindBuffer(o.ARRAY_BUFFER,Ne),o.vertexAttribPointer(At,3,o.FLOAT,!1,0,0),(T===2||T===4)&&o.drawArraysInstanced(o.TRIANGLES,0,Gt.vertexCount,O.length),o.useProgram(mt),(T===3||T===4)&&o.drawArraysInstanced(o.LINE_LOOP,0,Gt.vertexCount,O.length)}function qr(){Z.width=innerWidth,Z.height=innerHeight,Z.style.setProperty("width",`${innerWidth}px`),Z.style.setProperty("height",`${innerHeight}px`)}function Le(t){const e=lt?.2:.1,r=lt?.8:.9;return t>innerWidth*r&&(t=innerWidth*r),t<innerWidth*e&&(t=innerWidth*e),t}function De(t){const e=lt?.25:.1,r=lt?.75:.9;return t>innerHeight*r&&(t=innerHeight*r),t<innerHeight*e&&(t=innerHeight*e),t}})();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
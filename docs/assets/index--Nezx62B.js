var Gr=Object.defineProperty;var qr=(z,U,V)=>U in z?Gr(z,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):z[U]=V;var R=(z,U,V)=>(qr(z,typeof U!="symbol"?U+"":U,V),V);(async()=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();const z="modulepreload",U=function(t,e){return new URL(t,e).href},V={},Ce=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){const n=document.getElementsByTagName("link");i=Promise.all(e.map(o=>{if(o=U(o,r),o in V)return;V[o]=!0;const a=o.endsWith(".css"),h=a?'[rel="stylesheet"]':"";if(r)for(let u=n.length-1;u>=0;u--){const f=n[u];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${h}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":z,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>t()).catch(n=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n})};var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qt={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(Oe,function(){var r=`<div class="gl-box">
  <svg viewBox="0 0 55 60">
    <text x="27" y="56" class="gl-fps">00 FPS</text>
    <text x="28" y="8" class="gl-mem"></text>
    <rect x="0" y="14" rx="4" ry="4" width="55" height="32"></rect>
    <polyline class="gl-chart"></polyline>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-cpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-cpu" stroke-dasharray="0 27"/>
    <path d="M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z"/>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-gpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-gpu" stroke-dasharray="0 27"/>
    <path d="M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z"/>
  </svg>
</div>`,i=`#gl-bench {
  position:absolute;
  left:0;
  top:0;
  z-index:1000;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

#gl-bench div {
  position: relative;
  display: block;
  margin: 4px;
  padding: 0 7px 0 10px;
  background: #6c6;
  border-radius: 15px;
  cursor: pointer;
  opacity: 0.9;
}

#gl-bench svg {
  height: 60px;
  margin: 0 -1px;
}

#gl-bench text {
  font-size: 12px;
  font-family: Helvetica,Arial,sans-serif;
  font-weight: 700;
  dominant-baseline: middle;
  text-anchor: middle;
}

#gl-bench .gl-mem {
  font-size: 9px;
}

#gl-bench line {
  stroke-width: 5;
  stroke: #112211;
  stroke-linecap: round;
}

#gl-bench polyline {
  fill: none;
  stroke: #112211;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 3.5;
}

#gl-bench rect {
  fill: #448844;
}

#gl-bench .opacity {
  stroke: #448844;
}
`;class n{constructor(a,h={}){this.css=i,this.svg=r,this.paramLogger=()=>{},this.chartLogger=()=>{},this.chartLen=20,this.chartHz=20,this.names=[],this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=new Array(this.chartLen),this.now=()=>performance&&performance.now?performance.now():Date.now(),this.updateUI=()=>{[].forEach.call(this.nodes["gl-gpu-svg"],d=>{d.style.display=this.trackGPU?"inline":"none"})},Object.assign(this,h),this.detected=0,this.finished=[],this.isFramebuffer=0,this.frameId=0;let c,u=0,f,l=d=>{++u<20?c=requestAnimationFrame(l):(this.detected=Math.ceil(1e3*u/(d-f)/70),cancelAnimationFrame(c)),f||(f=d)};if(requestAnimationFrame(l),a){const d=async(p,A)=>Promise.resolve(setTimeout(()=>{a.getError();const v=this.now()-p;A.forEach((x,w)=>{x&&(this.gpuAccums[w]+=v)})},0)),m=(p,A,v)=>function(){const x=A.now();p.apply(v,arguments),A.trackGPU&&A.finished.push(d(x,A.activeAccums.slice(0)))};["drawArrays","drawElements","drawArraysInstanced","drawBuffers","drawElementsInstanced","drawRangeElements"].forEach(p=>{a[p]&&(a[p]=m(a[p],this,a))}),a.getExtension=((p,A)=>function(){let v=p.apply(a,arguments);return v&&["drawElementsInstancedANGLE","drawBuffersWEBGL"].forEach(x=>{v[x]&&(v[x]=m(v[x],A,v))}),v})(a.getExtension,this)}if(!this.withoutUI){this.dom||(this.dom=document.body);let d=document.createElement("div");d.id="gl-bench",this.dom.appendChild(d),this.dom.insertAdjacentHTML("afterbegin",'<style id="gl-bench-style">'+this.css+"</style>"),this.dom=d,this.dom.addEventListener("click",()=>{this.trackGPU=!this.trackGPU,this.updateUI()}),this.paramLogger=((m,p,A)=>{const v=["gl-cpu","gl-gpu","gl-mem","gl-fps","gl-gpu-svg","gl-chart"],x=Object.assign({},v);return v.forEach(w=>x[w]=p.getElementsByClassName(w)),this.nodes=x,(w,E,y,g,_,T,W)=>{x["gl-cpu"][w].style.strokeDasharray=(E*.27).toFixed(0)+" 100",x["gl-gpu"][w].style.strokeDasharray=(y*.27).toFixed(0)+" 100",x["gl-mem"][w].innerHTML=A[w]?A[w]:g?"mem: "+g.toFixed(0)+"mb":"",x["gl-fps"][w].innerHTML=_.toFixed(0)+" FPS",m(A[w],E,y,g,_,T,W)}})(this.paramLogger,this.dom,this.names),this.chartLogger=((m,p)=>{let A={"gl-chart":p.getElementsByClassName("gl-chart")};return(v,x,w)=>{let E="",y=x.length;for(let g=0;g<y;g++){let _=(w+g+1)%y;x[_]!=null&&(E=E+" "+(55*g/(y-1)).toFixed(1)+","+(45-x[_]*22/60/this.detected).toFixed(1))}A["gl-chart"][v].setAttribute("points",E),m(this.names[v],x,w)}})(this.chartLogger,this.dom)}}addUI(a){this.names.indexOf(a)==-1&&(this.names.push(a),this.dom&&(this.dom.insertAdjacentHTML("beforeend",this.svg),this.updateUI()),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFrame(a){this.frameId++;const h=a||this.now();if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=h;else{let c=h-this.paramTime;if(c>=1e3){const u=this.frameId-this.paramFrame,f=u/c*1e3;for(let l=0;l<this.names.length;l++){const d=this.cpuAccums[l]/c*100,m=this.gpuAccums[l]/c*100,p=performance&&performance.memory?performance.memory.usedJSHeapSize/(1<<20):0;this.paramLogger(l,d,m,p,f,c,u),this.cpuAccums[l]=0,Promise.all(this.finished).then(()=>{this.gpuAccums[l]=0,this.finished=[]})}this.paramFrame=this.frameId,this.paramTime=h}}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=h,this.circularId=0;else{let c=h-this.chartTime,u=this.chartHz*c/1e3;for(;--u>0&&this.detected;){const f=(this.frameId-this.chartFrame)/c*1e3;this.chart[this.circularId%this.chartLen]=f;for(let l=0;l<this.names.length;l++)this.chartLogger(l,this.chart,this.circularId);this.circularId++,this.chartFrame=this.frameId,this.chartTime=h}}}begin(a){this.updateAccums(a)}end(a){this.updateAccums(a)}updateAccums(a){let h=this.names.indexOf(a);h==-1&&(h=this.names.length,this.addUI(a));const c=this.now(),u=c-this.t0;for(let f=0;f<h+1;f++)this.activeAccums[f]&&(this.cpuAccums[f]+=u);this.activeAccums[h]=!this.activeAccums[h],this.t0=c}}return n})})(qt);var ke=qt.exports;const We=Ye(ke);var Lt=1e-6,ut=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function X(){var t=new ut(16);return ut!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Kt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ve(t,e){if(t===e){var r=e[1],i=e[2],n=e[3],o=e[6],a=e[7],h=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=o,t[11]=e[14],t[12]=n,t[13]=a,t[14]=h}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Qt(t,e){var r=e[0],i=e[1],n=e[2],o=e[3],a=e[4],h=e[5],c=e[6],u=e[7],f=e[8],l=e[9],d=e[10],m=e[11],p=e[12],A=e[13],v=e[14],x=e[15],w=r*h-i*a,E=r*c-n*a,y=r*u-o*a,g=i*c-n*h,_=i*u-o*h,T=n*u-o*c,W=f*A-l*p,rt=f*v-d*p,j=f*x-m*p,it=l*v-d*A,$=l*x-m*A,Et=d*x-m*v,M=w*Et-E*$+y*it+g*j-_*rt+T*W;return M?(M=1/M,t[0]=(h*Et-c*$+u*it)*M,t[1]=(n*$-i*Et-o*it)*M,t[2]=(A*T-v*_+x*g)*M,t[3]=(d*_-l*T-m*g)*M,t[4]=(c*j-a*Et-u*rt)*M,t[5]=(r*Et-n*j+o*rt)*M,t[6]=(v*y-p*T-x*E)*M,t[7]=(f*T-d*y+m*E)*M,t[8]=(a*$-h*j+u*W)*M,t[9]=(i*j-r*$-o*W)*M,t[10]=(p*_-A*y+x*w)*M,t[11]=(l*y-f*_-m*w)*M,t[12]=(h*rt-a*it-c*W)*M,t[13]=(r*it-i*rt+n*W)*M,t[14]=(A*E-p*g-v*w)*M,t[15]=(f*g-l*E+d*w)*M,t):null}function He(t,e,r){var i=e[0],n=e[1],o=e[2],a=e[3],h=e[4],c=e[5],u=e[6],f=e[7],l=e[8],d=e[9],m=e[10],p=e[11],A=e[12],v=e[13],x=e[14],w=e[15],E=r[0],y=r[1],g=r[2],_=r[3];return t[0]=E*i+y*h+g*l+_*A,t[1]=E*n+y*c+g*d+_*v,t[2]=E*o+y*u+g*m+_*x,t[3]=E*a+y*f+g*p+_*w,E=r[4],y=r[5],g=r[6],_=r[7],t[4]=E*i+y*h+g*l+_*A,t[5]=E*n+y*c+g*d+_*v,t[6]=E*o+y*u+g*m+_*x,t[7]=E*a+y*f+g*p+_*w,E=r[8],y=r[9],g=r[10],_=r[11],t[8]=E*i+y*h+g*l+_*A,t[9]=E*n+y*c+g*d+_*v,t[10]=E*o+y*u+g*m+_*x,t[11]=E*a+y*f+g*p+_*w,E=r[12],y=r[13],g=r[14],_=r[15],t[12]=E*i+y*h+g*l+_*A,t[13]=E*n+y*c+g*d+_*v,t[14]=E*o+y*u+g*m+_*x,t[15]=E*a+y*f+g*p+_*w,t}function je(t,e,r){var i=r[0],n=r[1],o=r[2],a,h,c,u,f,l,d,m,p,A,v,x;return e===t?(t[12]=e[0]*i+e[4]*n+e[8]*o+e[12],t[13]=e[1]*i+e[5]*n+e[9]*o+e[13],t[14]=e[2]*i+e[6]*n+e[10]*o+e[14],t[15]=e[3]*i+e[7]*n+e[11]*o+e[15]):(a=e[0],h=e[1],c=e[2],u=e[3],f=e[4],l=e[5],d=e[6],m=e[7],p=e[8],A=e[9],v=e[10],x=e[11],t[0]=a,t[1]=h,t[2]=c,t[3]=u,t[4]=f,t[5]=l,t[6]=d,t[7]=m,t[8]=p,t[9]=A,t[10]=v,t[11]=x,t[12]=a*i+f*n+p*o+e[12],t[13]=h*i+l*n+A*o+e[13],t[14]=c*i+d*n+v*o+e[14],t[15]=u*i+m*n+x*o+e[15]),t}function $e(t,e,r){var i=r[0],n=r[1],o=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ze(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[4],a=e[5],h=e[6],c=e[7],u=e[8],f=e[9],l=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*n+u*i,t[5]=a*n+f*i,t[6]=h*n+l*i,t[7]=c*n+d*i,t[8]=u*n-o*i,t[9]=f*n-a*i,t[10]=l*n-h*i,t[11]=d*n-c*i,t}function Xe(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[0],a=e[1],h=e[2],c=e[3],u=e[8],f=e[9],l=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n-u*i,t[1]=a*n-f*i,t[2]=h*n-l*i,t[3]=c*n-d*i,t[8]=o*i+u*n,t[9]=a*i+f*n,t[10]=h*i+l*n,t[11]=c*i+d*n,t}function Ge(t,e,r){var i=Math.sin(r),n=Math.cos(r),o=e[0],a=e[1],h=e[2],c=e[3],u=e[4],f=e[5],l=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*n+u*i,t[1]=a*n+f*i,t[2]=h*n+l*i,t[3]=c*n+d*i,t[4]=u*n-o*i,t[5]=f*n-a*i,t[6]=l*n-h*i,t[7]=d*n-c*i,t}function qe(t,e,r,i,n,o,a){var h=1/(e-r),c=1/(i-n),u=1/(o-a);return t[0]=-2*h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*h,t[13]=(n+i)*c,t[14]=(a+o)*u,t[15]=1,t}var Ke=qe;function Je(t,e,r,i){var n,o,a,h,c,u,f,l,d,m,p=e[0],A=e[1],v=e[2],x=i[0],w=i[1],E=i[2],y=r[0],g=r[1],_=r[2];return Math.abs(p-y)<Lt&&Math.abs(A-g)<Lt&&Math.abs(v-_)<Lt?Jt(t):(f=p-y,l=A-g,d=v-_,m=1/Math.hypot(f,l,d),f*=m,l*=m,d*=m,n=w*d-E*l,o=E*f-x*d,a=x*l-w*f,m=Math.hypot(n,o,a),m?(m=1/m,n*=m,o*=m,a*=m):(n=0,o=0,a=0),h=l*a-d*o,c=d*n-f*a,u=f*o-l*n,m=Math.hypot(h,c,u),m?(m=1/m,h*=m,c*=m,u*=m):(h=0,c=0,u=0),t[0]=n,t[1]=h,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=l,t[7]=0,t[8]=a,t[9]=u,t[10]=d,t[11]=0,t[12]=-(n*p+o*A+a*v),t[13]=-(h*p+c*A+u*v),t[14]=-(f*p+l*A+d*v),t[15]=1,t)}var Zt=He;function Qe(){var t=new ut(3);return ut!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function nt(t,e,r){var i=new ut(3);return i[0]=t,i[1]=e,i[2]=r,i}function Nt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}(function(){var t=Qe();return function(e,r,i,n,o,a){var h,c;for(r||(r=3),i||(i=0),n?c=Math.min(n*r+i,e.length):c=e.length,h=i;h<c;h+=r)t[0]=e[h],t[1]=e[h+1],t[2]=e[h+2],o(t,t,a),e[h]=t[0],e[h+1]=t[1],e[h+2]=t[2];return e}})();for(var G=256,te=[],ee=256,_t;G--;)te[G]=(G+256).toString(16).substring(1);function Ze(t){var e=0,r=t||11;if(!_t||G+r>ee*2)for(_t="",G=0;e<ee;e++)_t+=te[Math.random()*256|0];return _t.substring(G,G+++r)}var wt={},tr=function(){function t(e,r,i,n){this.x=e,this.y=r,this.w=i,this.h=n}return t.prototype.fitsIn=function(e){return e.w>=this.w&&e.h>=this.h},t.prototype.sameSizeAs=function(e){return this.w===e.w&&this.h===e.h},t}();Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=tr;var Rt={},Pt=wt;function re(t){var e=t.width/2,r=document.createElement("canvas");r.id=t.id||"",r.width=t.width+t.width,r.height=t.height+t.height;var i=r.getContext("2d"),n=i.createPattern(t,"repeat");return i.fillStyle=n,i.translate(e,e),i.fillRect(-e,-e,r.width+e,r.height+e),i.translate(-e,-e),r}function ie(t,e,r,i){var n=e?t.rect.w/4:0;return[[t.rect.x+n,t.rect.y+n],[t.rect.x+n+(t.rect.w-n*2),t.rect.y+n],[t.rect.x+n+(t.rect.w-n*2),t.rect.y+n+(t.rect.h-n*2)],[t.rect.x+n,t.rect.y+n+(t.rect.h-n*2)]].map(function(o){return o[0]!==0&&(o[0]=o[0]/r),o[1]!==0&&(o[1]=o[1]/i),o})}function ne(t,e,r,i){var n=e?t.rect.w/4:0,o=new Float32Array(8);return o[0]=(t.rect.x+n)/r,o[1]=(t.rect.y+n)/i,o[2]=(t.rect.x+n+(t.rect.w-n*2))/r,o[3]=(t.rect.y+n)/i,o[4]=(t.rect.x+n+(t.rect.w-n*2))/r,o[5]=(t.rect.y+n+(t.rect.h-n*2))/i,o[6]=(t.rect.x+n)/r,o[7]=(t.rect.y+n+(t.rect.h-n*2))/i,o}var ft=function(){function t(e,r,i,n){this.left=this.right=null,this.rect=new Pt.default(e,r,i,n),this.filled=!1}return t.prototype.pack=function(e){return this.left!==null?this.left.pack(e)||this.right.pack(e):this.filled||!e.fitsIn(this.rect)?null:e.sameSizeAs(this.rect)?(this.filled=!0,this):(this.rect.w-e.w>this.rect.h-e.h?(this.left=new t(this.rect.x,this.rect.y,e.w,this.rect.h),this.right=new t(this.rect.x+e.w,this.rect.y,this.rect.w-e.w,this.rect.h)):(this.left=new t(this.rect.x,this.rect.y,this.rect.w,e.h),this.right=new t(this.rect.x,this.rect.y+e.h,this.rect.w,this.rect.h-e.h)),this.left.pack(e))},t}();Rt.AtlasNode=ft;var er=function(){function t(e,r){r===void 0&&(r={}),this.tilepad=r.tilepad||!1,this.canvas=e,this.context=e.getContext("2d"),this._rootNode=new ft(0,0,this.canvas.width,this.canvas.height),this._terminalNodes={},this.invalidateUvIndices()}return t.prototype.pack=function(e,r){return this._checkId(e),this._pack(e,this.tilepad?re(r):r)},t.prototype.expand=function(e,r){return this._checkId(e),this.invalidateUvIndices(),this._expand(e,this.tilepad?re(r):r)},t.prototype.index=function(){var e=this;return Object.keys(this._terminalNodes).map(function(r){return e._terminalNodes[r].rect})},t.prototype.uv=function(){return this._uvs?this._uvs:(this._uvs=this.buildUvIndex(),this._uvs)},t.prototype.uv2=function(){return this._uvs2?this._uvs2:(this._uvs2=this.buildUvIndex2(),this._uvs2)},t.prototype.invalidateUvIndices=function(){this._uvs=null,this._uvs2=null},t.prototype._checkId=function(e){if(this._terminalNodes[e])throw new Error("Duplicated texture id "+e)},t.prototype._pack=function(e,r){var i=new Pt.default(0,0,r.width,r.height),n=this._rootNode.pack(i);return n?(this._ontoCanvas(e,r,n.rect),this._terminalNodes[e]=n,this._uvs&&(this._uvs[e]=ie(n,this.tilepad,this.canvas.width,this.canvas.height)),this._uvs2&&(this._uvs2[e]=ne(n,this.tilepad,this.canvas.width,this.canvas.height)),n):null},t.prototype._expand=function(e,r){var i=new Pt.default(0,0,r.width,r.height),n=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),o;this._rootNode.rect.w<this._rootNode.rect.h?(this.canvas.width=this._rootNode.rect.w+i.w,o=new ft(this._rootNode.rect.w,0,i.w,this._rootNode.rect.h)):(this.canvas.height=this._rootNode.rect.h+i.h,o=new ft(0,this._rootNode.rect.h,this._rootNode.rect.w,i.h)),this.context.putImageData(n,0,0);var a=this._rootNode;return this._rootNode=new ft(0,0,this.canvas.width,this.canvas.height),this._rootNode.left=a,this._rootNode.right=o,this._pack(e,r)?this:this._expand(e,r)},t.prototype.buildUvIndex=function(){var e=this,r={};return Object.keys(this._terminalNodes).map(function(i){var n=e._terminalNodes[i];r[i]=ie(n,e.tilepad,e.canvas.width,e.canvas.height)}),r},t.prototype.buildUvIndex2=function(){var e=this,r={};return Object.keys(this._terminalNodes).map(function(i){var n=e._terminalNodes[i];r[i]=ne(n,e.tilepad,e.canvas.width,e.canvas.height)}),r},t.prototype._ontoCanvas=function(e,r,i){this.context.clearRect(i.x,i.y,i.w,i.h),this.context.drawImage(r,i.x,i.y,i.w,i.h)},t}();Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=er;var rr=wt;rr.default;var ir=Rt,nr=ir.default,sr=Object.defineProperty,ar=(t,e,r)=>e in t?sr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q=(t,e,r)=>(ar(t,typeof e!="symbol"?e+"":e,r),r),se=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},I=(t,e,r)=>(se(t,e,"read from private field"),r?r.call(t):e.get(t)),bt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},or=(t,e,r,i)=>(se(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),St="-- DEFINES_HOOK --",hr=(t,e,r,i={})=>{if(Object.keys(i).length&&!r.includes(St))throw new Error(`in order to include defines, you must provide "${St}" in your shader code`);let n="";for(const[h,c]of Object.entries(i)){if(typeof c=="boolean"&&!c)continue;let u=`${c}`;typeof c=="number"&&Number.isInteger(c)&&(u+=".0"),n+=`#define ${h} ${u}
`}r=r.replace(St,n);const o=t.createShader(e);if(t.shaderSource(o,r),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS))return o;const a=`
    Error in ${e===t.VERTEX_SHADER?"Vertex":"Fragment"} shader:
    ${t.getShaderInfoLog(o)}
  `;throw t.deleteShader(o),new Error(a)},ae=hr,cr=(t,e,r,i)=>{const n=ae(t,t.VERTEX_SHADER,e,i),o=ae(t,t.FRAGMENT_SHADER,r,i),a=t.createProgram();if(t.attachShader(a,n),t.attachShader(a,o),t.linkProgram(a),t.detachShader(a,n),t.deleteShader(n),t.detachShader(a,o),t.deleteShader(o),t.getProgramParameter(a,t.LINK_STATUS))return a;const h=new Error(`Error linking program: ${t.getProgramInfoLog(a)}`);throw t.deleteProgram(a),h},Dt=cr,lr=(t,e,r,i)=>{let n;switch(e){case t.FLOAT:return t.uniform1f(r,i);case t.FLOAT_VEC2:return n=i,t.uniform2f(r,n[0],n[1]);case t.FLOAT_VEC3:return n=i,t.uniform3f(r,n[0],n[1],n[2]);case t.FLOAT_VEC4:return n=i,t.uniform4f(r,n[0],n[1],n[2],n[3]);case t.BOOL:case t.INT:case t.SAMPLER_2D:case t.SAMPLER_CUBE:return t.uniform1i(r,i);case t.BOOL_VEC2:case t.INT_VEC2:return n=i,t.uniform2i(r,n[0],n[1]);case t.BOOL_VEC3:case t.INT_VEC3:return n=i,t.uniform3i(r,n[0],n[1],n[2]);case t.BOOL_VEC4:case t.INT_VEC4:return n=i,t.uniform4i(r,n[0],n[1],n[2],n[3]);case t.FLOAT_MAT2:return t.uniformMatrix2fv(r,!1,i);case t.FLOAT_MAT3:return t.uniformMatrix3fv(r,!1,i);case t.FLOAT_MAT4:return t.uniformMatrix4fv(r,!1,i);default:throw new Error("wrong type for uniform")}},oe=lr,dr=(t={})=>{const{width:e=1,height:r=1,widthSegments:i=1,heightSegments:n=1,flipUVy:o=!1}=t,a=i,h=n,c=(a+1)*(h+1),u=a*h*6,f=new Float32Array(c*3+c*2),l=c>65536?new Uint32Array(u):new Uint16Array(u);let d=0,m=0;const p=d,A=e/a,v=r/h,x=1,w=-1,E=0,y=5;for(let g=0;g<=h;g++){const _=g*v-r/2;for(let T=0;T<=a;T++,d++){const W=T*A-e/2;if(f[d*y+0]=W*x,f[d*y+1]=_*w,f[d*y+2]=E/2,f[d*y+3]=T/a,f[d*y+4]=o?1-g/h:g/h,g===h||T===a)continue;const rt=p+T+g*(a+1),j=p+T+(g+1)*(a+1),it=p+T+(g+1)*(a+1)+1,$=p+T+g*(a+1)+1;l[m*6]=rt,l[m*6+1]=j,l[m*6+2]=$,l[m*6+3]=j,l[m*6+4]=it,l[m*6+5]=$,m++}}return{width:e,height:r,vertexCount:l.length,vertexStride:y,interleavedArray:f,indicesArray:l}},ur=dr,fr=(t={})=>{const{width:e=1,height:r=1}=t,i=4,n=3,o=new Float32Array(i*n);return o[0]=-e*.5,o[1]=-r*.5,o[2]=0,o[3]=e*.5,o[4]=-r*.5,o[5]=0,o[6]=e*.5,o[7]=r*.5,o[8]=0,o[9]=-e*.5,o[10]=r*.5,o[11]=0,{width:e,height:r,vertexCount:i,vertexStride:n,interleavedArray:o}},mr=fr,pr=(t={})=>{const{radius:e=1,segments:r=32,thetaStart:i=0,thetaEnd:n=Math.PI*2}=t,o=[],a=[],h=[];a.push(0,0,0),h.push(0,0);for(let l=0,d=3;l<=r;l++,d+=3){const m=i+l/r*n,p=Math.cos(m)*e,A=Math.sin(m)*e;a.push(p,A,0);const v=(a[d]/e+1)/2,x=(a[d+1]/e+1)/2;h.push(v,x)}for(let l=1;l<=r;l++)o.push(l,l+1,0);const c=5,u=r>65536?new Uint32Array(o):new Uint16Array(o),f=new Float32Array((r+1)*3*c);for(let l=0;l<=r+1;l++)f[l*5+0]=a[l*3+0],f[l*5+1]=a[l*3+1],f[l*5+2]=a[l*3+2],f[l*5+3]=h[l*2+0],f[l*5+4]=h[l*2+1];return{radius:e,interleavedArray:f,vertexCount:r*3,vertexStride:c,indicesArray:u}},gr=pr,vr=(t={})=>{const{radius:e=1,segments:r=32,thetaStart:i=0,thetaEnd:n=Math.PI*2}=t,o=3,a=new Float32Array(r*o),h=n/r;for(let c=0;c<r;c++){const u=Math.cos(i+c*h)*e,f=Math.sin(i+c*h)*e;a[c*3+0]=u,a[c*3+1]=f,a[c*3+2]=0}return{radius:e,vertexCount:r,vertexStride:o,interleavedArray:a}},Ar=vr,xr=(t,e,r,i,n,o)=>{const a=new Float32Array(9);return a[0]=t,a[1]=e,a[2]=0,a[3]=r,a[4]=i,a[5]=0,a[6]=n,a[7]=o,a[8]=0,{vertexCount:3,vertexStride:3,interleavedArray:a}},yr=xr,Er=class{constructor(){R(this,"upVector",nt(0,1,0));R(this,"position",nt(0,0,0));R(this,"lookAt",nt(0,0,0));R(this,"projectionMatrix",X());R(this,"viewMatrix",X());R(this,"viewMatrixInverse",X());R(this,"projectionViewMatrix",X())}updateViewMatrix(){return Je(this.viewMatrix,this.position,this.lookAt,this.upVector),Qt(this.viewMatrixInverse,this.viewMatrix),this}updateProjectionMatrix(){return this}updateProjectionViewMatrix(){return this.updateViewMatrix(),this.updateProjectionMatrix(),Zt(this.projectionViewMatrix,this.projectionMatrix,this.viewMatrix),this}},_r=class extends Er{constructor(e,r,i,n,o,a){super();R(this,"left");R(this,"right");R(this,"bottom");R(this,"top");R(this,"near");R(this,"far");this.left=e,this.right=r,this.top=i,this.bottom=n,this.near=o,this.far=a,this.updateProjectionMatrix()}updateProjectionMatrix(){return Ke(this.projectionMatrix,this.left,this.right,this.bottom,this.top,this.near,this.far),this}},wr=class{constructor(){R(this,"position",nt(0,0,0));R(this,"rotation",nt(0,0,0));R(this,"scale",nt(1,1,1));R(this,"modelMatrix",X());R(this,"shouldUpdate",!0)}copyFromMatrix(t){return Kt(this.modelMatrix,t),this.shouldUpdate=!1,this}setPosition(t){return Nt(this.position,t),this.shouldUpdate=!0,this}setScale(t){return Nt(this.scale,t),this.shouldUpdate=!0,this}setRotation(t){return Nt(this.rotation,t),this.shouldUpdate=!0,this}updateModelMatrix(){return Jt(this.modelMatrix),je(this.modelMatrix,this.modelMatrix,this.position),ze(this.modelMatrix,this.modelMatrix,this.rotation[0]),Xe(this.modelMatrix,this.modelMatrix,this.rotation[1]),Ge(this.modelMatrix,this.modelMatrix,this.rotation[2]),$e(this.modelMatrix,this.modelMatrix,this.scale),this.shouldUpdate=!1,this}},Rr=class extends wr{constructor(e=void 0){super();R(this,"parentNode",null);R(this,"_children",[]);R(this,"_visible",!0);R(this,"worldMatrix",X());R(this,"normalMatrix",X());R(this,"uid",Ze(9));R(this,"name");this.name=e}get visible(){return this._visible}set visible(e){this._visible=e}get children(){return this._children}get siblings(){return this.parentNode?this.parentNode._children:[]}get levelIndex(){let e=0,r=this.parentNode;for(;r;)e++,r=r.parentNode;return e}setParent(e=null){if(this.parentNode){const r=this.parentNode._children.indexOf(this);r>=0&&this.parentNode._children.splice(r,1)}return e&&e.addChild(this),this.parentNode=e,this}addChild(e){return this._children.push(e),this}updateWorldMatrix(e=null){this.shouldUpdate&&this.updateModelMatrix(),e?Zt(this.worldMatrix,e,this.modelMatrix):Kt(this.worldMatrix,this.modelMatrix),Qt(this.normalMatrix,this.worldMatrix),Ve(this.normalMatrix,this.normalMatrix);for(let r=0;r<this._children.length;r++)this._children[r].updateWorldMatrix(this.worldMatrix);return this}traverse(e,r=0){e(this,r),r++;for(let i=0;i<this._children.length;i++)this._children[i].traverse(e,r)}findChild(e){if(e(this))return this;let r=null;for(let i=0;i<this._children.length&&!(r=this._children[i].findChild(e));i++);return r}findChildByName(e){if(this.name===e)return this;let r=null;for(let i=0;i<this._children.length&&!(r=this._children[i].findChildByName(e));i++);return r}findParent(e){if(e(this))return this;let r=null,i=this.parentNode;for(;i&&!(r=i.findParent(e));)i=i==null?void 0:i.parentNode;return r}findParentByName(e){if(this.name===e)return this;let r=null,i=this.parentNode;for(;i&&!(r=i.findParentByName(e));)i=i==null?void 0:i.parentNode;return r}render(){if(this._visible)for(let e=0;e<this._children.length;e++)this._children[e].render()}},st,Ft=class extends Rr{constructor(t,e,r,i={},n){if(super(n),q(this,"gl"),q(this,"vao"),q(this,"vertexCount"),bt(this,st,new Map),q(this,"boundingBox"),q(this,"program"),this.gl=t,this.vao=t.createVertexArray(),this.program=Dt(t,e,r,i),this.program.__SPECTOR_Metadata={name:n,shaderDefines:i},!this.setUniform(Ft.WORLD_MATRIX_UNIFORM_NAME,{type:t.FLOAT_MAT4}))throw new Error(`Each Drawable is expected to have a mat4 ${Ft.WORLD_MATRIX_UNIFORM_NAME} implemented in shader`)}setUniform(t,{type:e,value:r}){const i=this.gl;let n;if(n=I(this,st).get(t))n.value=r;else{const o=i.getUniformLocation(this.program,t);if(!o)return console.error(`uniform with name ${t} was not found in the program`),!1;n={type:e,location:o,value:r},I(this,st).set(t,n)}return r!=null&&(i.useProgram(this.program),oe(i,n.type,n.location,r)),!0}updateUniform(t,e){let r;if(r=this.getUniform(t)){r.value=e;const i=this.gl;return i.useProgram(this.program),oe(i,r.type,r.location,e),!0}return!1}getUniform(t){let e;return(e=I(this,st).get(t))?e:(console.error("can't locate uniform with that name"),null)}updateWorldMatrix(t){return super.updateWorldMatrix(t),this.updateUniform(Ft.WORLD_MATRIX_UNIFORM_NAME,this.worldMatrix),this}destroy(){I(this,st).clear();const t=this.gl;t.deleteVertexArray(this.vao),t.deleteProgram(this.program)}},br=Ft;st=new WeakMap,q(br,"WORLD_MATRIX_UNIFORM_NAME","u_worldMatrix");var Fr=document.createElement("canvas"),he=Fr.getContext("webgl2"),H=he.MAX_TEXTURE_SIZE,Mt=he.RGB,Ct,b,Ot=!1,K,at,ot,Yt=class{constructor(){if(bt(this,K,[]),bt(this,at,[]),bt(this,ot,document.createElement("div")),Ot){const t=document.createElement("style"),e="hwoa-rang-texture-atlas-debug";t.setAttribute("type","text/css");const r=`
        #${e} {
          position: fixed;
          bottom: 1rem;
          right: 1rem;
          transform-origin: 100% 100%;
          width: 400px;
          max-height: 100vh;
          overflow: scroll;
        }
        #${e} canvas {
          max-width: 100%;
        }
      `;t.appendChild(document.createTextNode(r)),document.getElementsByTagName("head")[0].appendChild(t),or(this,ot,document.createElement("div")),I(this,ot).setAttribute("id",e),document.body.appendChild(I(this,ot))}}static set debugMode(t){Ot=t}static get textureSize(){return H}static set textureSize(t){H=t}static set textureFormat(t){Mt=t}static set gl(t){b=t}static getInstance(){if(!b)throw new Error("You must provide a WebGL2RenderingContext first via setting the TextureAtlas.gl property!");return Ct||(Ct=new Yt),Ct}pack(t,e,r=1){const i=()=>{const d=document.createElement("canvas");I(this,ot).appendChild(d),d.width=H,d.height=H;const m=b.createTexture();b.bindTexture(b.TEXTURE_2D,m),b.texParameterf(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR),b.texImage2D(b.TEXTURE_2D,0,Mt,H,H,0,Mt,b.UNSIGNED_BYTE,null),b.generateMipmap(b.TEXTURE_2D),b.bindTexture(b.TEXTURE_2D,null);const p=new nr(d);return I(this,K).push(p),I(this,at).push(m),p};let n=I(this,K)[I(this,K).length-1];n||(n=i());const o=r===1?e:Yt.scaleDownDrawableByFactor(e,r);n.pack(t,o)||(n=i(),n.pack(t,o));const a=n.uv()[t];for(let d=0;d<a.length;d++)a[d][0]*=H,a[d][1]*=H;const h=I(this,at)[I(this,at).length-1],c=a[0][0],u=a[0][1],f=a[2][0]-a[0][0],l=a[2][1]-a[0][1];return b.bindTexture(b.TEXTURE_2D,h),b.texSubImage2D(b.TEXTURE_2D,0,c,u,f,l,Mt,b.UNSIGNED_BYTE,o),b.generateMipmap(b.TEXTURE_2D),b.bindTexture(b.TEXTURE_2D,null),this}getUv2(t){let e=-1;for(let r=0;r<I(this,K).length;r++){const i=I(this,K)[r].uv2()[t];if(i){e=r;const n=I(this,at)[e];return[i,n]}}throw new Error("Can't get uvs")}},Mr=Yt;K=new WeakMap,at=new WeakMap,ot=new WeakMap,q(Mr,"scaleDownDrawableByFactor",(t,e)=>{const r=document.createElement("canvas"),i=t instanceof HTMLImageElement?t.naturalWidth:t.width,n=t instanceof HTMLImageElement?t.naturalHeight:t.height;r.width=i/e,r.height=n/e,Ot&&console.log(`Scaled ${i}x${n} project image to ${r.width}x${r.height}`);const o=r.getContext("2d");return o.imageSmoothingQuality="high",o.drawImage(t,0,0,i,n,0,0,r.width,r.height),r});var ce=`#version 300 es

-- DEFINES_HOOK --

uniform mat4 uProjectionViewMatrix;

in vec4 aInstanceTransform;
in vec4 aPosition;
in vec4 aColor;
in vec2 aUV;

out vec2 vUV;
out vec4 vColor;

vec2 rotate(vec2 v, float a) {
	float s = sin(a);
	float c = cos(a);
	mat2 m = mat2(c, s, -s, c);
	return m * v;
}

void main () {
  vec4 pos = aPosition;

  #ifdef IS_LINES
    if (aPosition.x == 0.0f) {
      pos.xy = aInstanceTransform.xy;
    } else {
      pos.xy = aInstanceTransform.zw;
    }
  #else
    vec2 offset = aInstanceTransform.xy;
    float angle = aInstanceTransform.z;
    float scale = aInstanceTransform.w;

    pos.xy *= scale;
    pos.xy = rotate(pos.xy, angle);
    pos.xy += offset;
  #endif
  
  gl_Position = uProjectionViewMatrix * pos;

  vUV = aUV;
  vColor = aColor;
}`,le=`#version 300 es
precision highp float;

-- DEFINES_HOOK --

in vec2 vUV;
in vec4 vColor;

out vec4 finalColor;

void main () {
  #ifdef LINES
    finalColor = vec4(0.5843, 0.647, 0.6509, 1.0);
  #else
    finalColor = vColor;
  #endif
}`;const Tr=await Ce(()=>import("./Phy2D-8i1OeZ3-.js"),__vite__mapDeps([]),import.meta.url),{Vec2:mt,Body:J,World:Ir,vector$Vec2$:Br}=await Tr.default(),Ur=0,de=1,ue=2,fe=new mt(-1e3,-1e3),kt=Math.min(innerWidth,1920),Wt=Math.min(innerHeight,800),Lr=300,Nr=innerWidth*innerHeight,Pr=5e5,ht=Nr<Pr,L=[.945,.7686,.0588],N=[.1725,.2431,.3137],Vt=innerWidth-kt,Tt=innerHeight-Wt,ct=new mt(-1e3,-1e3);let me=0;const Q=document.getElementById("c");Xr();const s=Q.getContext("webgl2"),Ht=new We(s),It=new _r(0,innerWidth,0,innerHeight,.1,10);It.position[2]=1,It.updateProjectionViewMatrix();const P=Dt(s,ce,le,{}),pt=Dt(s,ce,le,{LINES:!0}),Z=s.getAttribLocation(P,"aInstanceTransform"),gt=s.getAttribLocation(P,"aPosition"),jt=s.getAttribLocation(P,"aUV"),tt=s.getAttribLocation(P,"aColor");let $t=s.getUniformLocation(P,"uProjectionViewMatrix");s.useProgram(P),s.uniformMatrix4fv($t,!1,It.projectionViewMatrix),$t=s.getUniformLocation(pt,"uProjectionViewMatrix"),s.useProgram(pt),s.uniformMatrix4fv($t,!1,It.projectionViewMatrix);const zt=[],F=document.createElement("canvas");F.width=kt,F.height=Wt,F.style.setProperty("position","fixed"),F.style.setProperty("top",`${Tt*.5}px`),F.style.setProperty("left",`${Vt*.5}px`),F.style.setProperty("z-index","999"),F.classList.add("fadeable"),document.body.appendChild(F);const B=F.getContext("2d"),pe=1;B.font=`bold ${pe}px Helvetica`;const ge="2024",Sr=pe*(F.width*.77/B.measureText(ge).width);B.font=`bold ${Sr}px Helvetica`,B.textAlign="center",B.textBaseline="middle",B.fillStyle="white",B.save(),B.translate(F.width*.5,F.height*.5),B.scale(1,1),B.fillStyle="rgb(241, 196, 15)",B.fillText(ge,0,0),B.restore();const Dr=new Uint32Array(B.getImageData(0,0,F.width,F.height).data.buffer),Cr=10,Or=10;B.globalAlpha=.2;for(let t=0;t<F.width;t+=Cr)for(let e=0;e<F.height;e+=Or)Dr[e*F.width+t]&&zt.push({x:t+Vt*.5,y:e+Tt*.5});const S=[],D=[],C=[],lt=new Ir(-6.5,innerWidth,innerHeight),ve=new J(innerWidth,1,innerWidth*.5,innerHeight,0);ve.restitution=1;const Yr=new J(1,innerHeight*2,0,innerHeight*.5,0),kr=new J(1,innerHeight*2,innerWidth-1,innerHeight*.5,0);lt.AddBody(ve),lt.AddBody(Yr),lt.AddBody(kr);const dt=new J(60,-1e3,-100,0);dt.restitution=.3,lt.AddBody(dt);let et=0;const Bt=Wt;for(;et<Bt;){let t=0,e=0;const r=Math.cos(et/Bt*Math.PI*2);for(;e<kt;){const i=ht?11:36,n=ht?25:51;let o=(r*i+n)*.5,a=o+Math.random()*o;const h=a*.5+e+Vt*.5,c=et+Tt*.5;let u,f=Math.random()<.9?de:ue;et>Bt*.3&&et<Bt*.7&&(f=Math.floor(Math.random()*2));const l=et-innerHeight*.1+Tt*.625;if(f===de)u=new J(a*1.015,h,l,1),u.scale=a,D.push(u);else if(f===Ur)u=new J(a*2*1.015,a*2*1.015,h,l,2),u.scale=a*2,S.push(u);else if(f===ue){const d=new Br;d.push_back(new mt(-.5*a*2,.5*a*2)),d.push_back(new mt(0*a*2,-.5*a*2)),d.push_back(new mt(.5*a*2,.5*a*2)),u=new J(d,h,l,10,0,0),u.scale=a*2,C.push(u)}a>t&&(t=a),u.restitution=.1,u.isInside=!1,lt.AddBody(u);for(let d=0;d<zt.length;d++){const{x:m,y:p}=zt[d],A=m-h,v=p-c*1;Math.sqrt(A*A+v*v)<10&&(u.isInside=!0)}e+=a*2}et+=t*1.4}const O=new Float32Array(S.length*4),Ut=new Float32Array(S.length*3),Y=new Float32Array(D.length*4),vt=new Float32Array(D.length*3),k=new Float32Array(C.length*4),At=new Float32Array(C.length*3);for(let t=0;t<S.length;t++){const e=S[t];O[t*4+0]=e.position.x,O[t*4+1]=e.position.y,O[t*4+2]=0,O[t*4+3]=e.scale,Ut[t*3+0]=e.isInside?L[0]:N[0],Ut[t*3+1]=e.isInside?L[1]:N[1],Ut[t*3+2]=e.isInside?L[2]:N[2]}for(let t=0;t<D.length;t++){const e=D[t];Y[t*4+0]=e.position.x,Y[t*4+1]=e.position.y,Y[t*4+2]=0,Y[t*4+3]=e.scale,vt[t*3+0]=e.isInside?L[0]:N[0],vt[t*3+1]=e.isInside?L[1]:N[1],vt[t*3+2]=e.isInside?L[2]:N[2]}for(let t=0;t<C.length;t++){const e=C[t];k[t*4+0]=e.position.x,k[t*4+1]=e.position.y,k[t*4+2]=0,k[t*4+3]=e.scale,At[t*3+0]=e.isInside?L[0]:N[0],At[t*3+1]=e.isInside?L[1]:N[1],At[t*3+2]=e.isInside?L[2]:N[2]}const xt=ur(),Ae=mr(),xe=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,xe),s.bufferData(s.ARRAY_BUFFER,O,s.DYNAMIC_DRAW);const ye=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,ye),s.bufferData(s.ARRAY_BUFFER,Ut,s.STATIC_DRAW);const Ee=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Ee),s.bufferData(s.ARRAY_BUFFER,xt.interleavedArray,s.STATIC_DRAW);const _e=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,_e),s.bufferData(s.ARRAY_BUFFER,Ae.interleavedArray,s.STATIC_DRAW);const we=s.createBuffer();s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,we),s.bufferData(s.ELEMENT_ARRAY_BUFFER,xt.indicesArray,s.STATIC_DRAW);const yt=gr(),Re=Ar(),be=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,be),s.bufferData(s.ARRAY_BUFFER,Y,s.DYNAMIC_DRAW);const Fe=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Fe),s.bufferData(s.ARRAY_BUFFER,vt,s.STATIC_DRAW);const Me=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Me),s.bufferData(s.ARRAY_BUFFER,yt.interleavedArray,s.STATIC_DRAW);const Te=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Te),s.bufferData(s.ARRAY_BUFFER,Re.interleavedArray,s.STATIC_DRAW);const Ie=s.createBuffer();s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,Ie),s.bufferData(s.ELEMENT_ARRAY_BUFFER,yt.indicesArray,s.STATIC_DRAW);const Xt=yr(-.5,.5,0,-.5,.5,.5),Be=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Be),s.bufferData(s.ARRAY_BUFFER,k,s.DYNAMIC_DRAW);const Ue=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Ue),s.bufferData(s.ARRAY_BUFFER,At,s.STATIC_DRAW);const Le=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,Le),s.bufferData(s.ARRAY_BUFFER,Xt.interleavedArray,s.STATIC_DRAW);const Gt=matchMedia("(orientation: portrait)"),Wr=Gt.matches;Gt.addEventListener("change",()=>{Wr&&!Gt.matches&&location.reload()}),setTimeout(()=>{F.classList.add("faded"),requestAnimationFrame(Pe),F.addEventListener("transitionend",()=>{})},Lr),document.body.addEventListener("mousedown",Vr),document.body.addEventListener("mouseup",Hr),document.body.addEventListener("touchmove",jr),document.body.addEventListener("touchend",$r);function Vr(){document.body.addEventListener("mousemove",Ne)}function Ne(t){const e=Se(t.pageX),r=De(t.pageY);ct.x=e,ct.y=r,dt.position=ct}function Hr(){document.body.removeEventListener("mousemove",Ne),dt.position=fe}function jr(t){const e=Se(t.pageX),r=De(t.pageY);ct.x=e,ct.y=r,dt.position=ct,t.preventDefault()}function $r(){dt.position=fe}function Pe(t){const e=Math.min((t-me)*.001,.01667);me=t,Ht.begin("Simulation"),lt.Update(e);for(let r=0;r<D.length;r++){const i=D[r];Y[r*4+0]=i.position.x,Y[r*4+1]=i.position.y,Y[r*4+2]=i.rotation}for(let r=0;r<S.length;r++){const i=S[r];O[r*4+0]=i.position.x,O[r*4+1]=i.position.y,O[r*4+2]=i.rotation}for(let r=0;r<C.length;r++){const i=C[r];k[r*4+0]=i.position.x,k[r*4+1]=i.position.y,k[r*4+2]=i.rotation}s.viewport(0,0,Q.width,Q.height),s.clearColor(.498,.549,.5529,1),s.clear(s.COLOR_BUFFER_BIT),s.enableVertexAttribArray(Z),s.enableVertexAttribArray(tt),s.enableVertexAttribArray(gt),s.enableVertexAttribArray(jt),zr(),Ht.end("Simulation"),Ht.nextFrame(t),requestAnimationFrame(Pe)}function zr(){s.useProgram(P),s.bindBuffer(s.ARRAY_BUFFER,xe),s.bufferData(s.ARRAY_BUFFER,O,s.DYNAMIC_DRAW),s.vertexAttribPointer(Z,4,s.FLOAT,!1,0,0),s.vertexAttribDivisor(Z,1),s.bindBuffer(s.ARRAY_BUFFER,ye),s.vertexAttribPointer(tt,3,s.FLOAT,!1,0,0),s.vertexAttribDivisor(tt,1),s.bindBuffer(s.ARRAY_BUFFER,Ee),s.vertexAttribPointer(gt,3,s.FLOAT,!1,xt.vertexStride*Float32Array.BYTES_PER_ELEMENT,0),s.vertexAttribPointer(jt,2,s.FLOAT,!1,xt.vertexStride*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,we),s.drawElementsInstanced(s.TRIANGLES,xt.vertexCount,s.UNSIGNED_SHORT,0,S.length),s.useProgram(pt),s.bindBuffer(s.ARRAY_BUFFER,_e),s.vertexAttribPointer(gt,3,s.FLOAT,!1,0,0),s.drawArraysInstanced(s.LINE_LOOP,0,Ae.vertexCount,S.length),s.useProgram(P),s.bindBuffer(s.ARRAY_BUFFER,be),s.bufferData(s.ARRAY_BUFFER,Y,s.DYNAMIC_DRAW),s.vertexAttribPointer(Z,4,s.FLOAT,!1,0,0),s.vertexAttribDivisor(Z,1),s.bindBuffer(s.ARRAY_BUFFER,Fe),s.bufferData(s.ARRAY_BUFFER,vt,s.STATIC_DRAW),s.vertexAttribPointer(tt,3,s.FLOAT,!1,0,0),s.vertexAttribDivisor(tt,1),s.bindBuffer(s.ARRAY_BUFFER,Me),s.vertexAttribPointer(gt,3,s.FLOAT,!1,yt.vertexStride*Float32Array.BYTES_PER_ELEMENT,0),s.vertexAttribPointer(jt,2,s.FLOAT,!1,yt.vertexStride*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,Ie),s.drawElementsInstanced(s.TRIANGLES,yt.vertexCount,s.UNSIGNED_SHORT,0,D.length),s.useProgram(pt),s.bindBuffer(s.ARRAY_BUFFER,Te),s.drawArraysInstanced(s.LINE_LOOP,1,Re.vertexCount,D.length),s.useProgram(P),s.bindBuffer(s.ARRAY_BUFFER,Be),s.bufferData(s.ARRAY_BUFFER,k,s.DYNAMIC_DRAW),s.vertexAttribPointer(Z,4,s.FLOAT,!1,0,0),s.vertexAttribDivisor(Z,1),s.bindBuffer(s.ARRAY_BUFFER,Ue),s.bufferData(s.ARRAY_BUFFER,At,s.STATIC_DRAW),s.vertexAttribPointer(tt,3,s.FLOAT,!1,0,0),s.vertexAttribDivisor(tt,1),s.bindBuffer(s.ARRAY_BUFFER,Le),s.vertexAttribPointer(gt,3,s.FLOAT,!1,0,0),s.drawArraysInstanced(s.TRIANGLES,0,Xt.vertexCount,C.length),s.useProgram(pt),s.drawArraysInstanced(s.LINE_LOOP,0,Xt.vertexCount,C.length)}function Xr(){Q.width=innerWidth,Q.height=innerHeight,Q.style.setProperty("width",`${innerWidth}px`),Q.style.setProperty("height",`${innerHeight}px`)}function Se(t){const e=ht?.2:.1,r=ht?.8:.9;return t>innerWidth*r&&(t=innerWidth*r),t<innerWidth*e&&(t=innerWidth*e),t}function De(t){const e=ht?.25:.2,r=ht?.75:.8;return t>innerHeight*r&&(t=innerHeight*r),t<innerHeight*e&&(t=innerHeight*e),t}})();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}